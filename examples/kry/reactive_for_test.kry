// Reactive For Loop Test - Runtime dynamic iteration
// This demonstrates how reactive for loops create foreach nodes for runtime

App {
  windowWidth = 800
  windowHeight = 600
  backgroundColor = "#1E1E1E"

  // Reactive state that can change at runtime
  state items: array<string> = ["Item 1", "Item 2", "Item 3"]
  state selectedIndex: int = 0

  Column {
    width = 100%
    height = 100%
    justifyContent = "center"
    alignItems = "center"
    gap = 20

    Text {
      text = "Reactive For Loop Demo"
      fontSize = 28
      color = "#FFFFFF"
    }

    Text {
      text = "Items rendered dynamically:"
      fontSize = 16
      color = "#AAAAAA"
    }

    // Reactive for loop - creates foreach node for runtime iteration
    Column {
      gap = 10
      alignItems = "stretch"

      for item in items {
        Container {
          width = 200
          height = 40
          background = "#3498DB"
          borderRadius = 8
          padding = 10

          Text {
            text = $item
            color = "#FFFFFF"
            fontSize = 14
          }
        }
      }
    }

    Row {
      gap = 10

      Button {
        text = "Add Item"
        width = 100
        height = 40
        background = "#2ECC71"
        onClick = { items.add("New Item") }
      }

      Button {
        text = "Clear"
        width = 100
        height = 40
        background = "#E74C3C"
        onClick = { items.clear() }
      }
    }
  }
}

#!/bin/bash

# Simple build script for Kryon-C

set -e

PROJECT_ROOT="$(cd "$(dirname "${BASH_SOURCE[0]}")/.." && pwd)"
BUILD_DIR="$PROJECT_ROOT/build"

BUILD_TYPE="${1:-Release}"

echo "Building Kryon-C ($BUILD_TYPE)..."

mkdir -p "$BUILD_DIR"
cd "$BUILD_DIR"

cmake .. -DCMAKE_BUILD_TYPE="$BUILD_TYPE"
make -j$(nproc)

echo "Build complete!"
echo "Run examples with: tools/run [example.kry] [renderer]"
INTRO

Kryon is a window manager service that provides a synthetic UI filesystem
using the 9P2000 protocol. It runs as a service on Marrow, providing
structured widgets and window management.

ARCHITECTURE

Kryon connects to Marrow and uses its graphics subsystem:

    Marrow (Graphics Kernel)
        ├── /dev/draw          Graphics protocol (Plan 9)
        ├── /dev/screen        Screen framebuffer
        ├── /dev/mouse         Mouse input
        └── /dev/kbd           Keyboard input
            ↓ 9P
    Kryon (Window Manager Service)
        ├── Marrow Client      Connects to Marrow
        ├── Window Manager     Creates/manages windows
        ├── Widget System      89 widget types
        └── /mnt/wm            Window management filesystem

KEY FEATURES

Kryon provides file-based window management:

1. Structured UI - Widgets (buttons, menus, layouts) with state
2. Filesystem Control - All operations via /mnt/wm/... files
3. Property Files - Read/write widget properties as files
4. Event Queues - Read events from files
5. Marrow Integration - Uses /dev/draw for rendering

OPERATING MODE

Kryon runs as a service that connects to Marrow:

    # Start Marrow
    marrow --port 17010

    # Start Kryon (connects to Marrow)
    kryon --marrow localhost:17010

    # Kryon registers as "window-manager" service
    # Kryon exports /mnt/wm to Marrow's namespace

    # Applications connect to Marrow (17010)
    # Applications use /dev/draw directly OR /mnt/wm for windows

QUICK START

    # Start the system
    ./marrow/bin/marrow &
    ./kryon/bin/kryon &

    # Connect with drawterm
    drawterm -a tcp!localhost!17010

    # Inside drawterm:
    cd /mnt/wm
    echo '{"title":"My Window","width":800,"height":600}' > ctl

See other files in this directory for complete specification.

{
  "plugin": {
    "name": "tilemap",
    "version": "1.0.0",
    "description": "2D tile-based rendering for games",
    "header": "../../plugins/tilemap/tilemap_plugin.h",
    "library": "-lkryon_desktop -lkryon_ir"
  },
  "types": {
    "uint16_t": {
      "nim": "uint16",
      "js": "number",
      "python": "int",
      "description": "16-bit unsigned integer"
    },
    "uint8_t": {
      "nim": "uint8",
      "js": "number",
      "python": "int",
      "description": "8-bit unsigned integer"
    },
    "int32_t": {
      "nim": "int32",
      "js": "number",
      "python": "int",
      "description": "32-bit signed integer"
    }
  },
  "functions": [
    {
      "c_name": "kryon_tilemap_create",
      "nim_name": "createTilemap",
      "js_name": "createTilemap",
      "python_name": "create_tilemap",
      "description": "Create a new tilemap layer",
      "parameters": [
        {
          "name": "width",
          "type": "uint16_t",
          "description": "Width in tiles"
        },
        {
          "name": "height",
          "type": "uint16_t",
          "description": "Height in tiles"
        },
        {
          "name": "tile_width",
          "type": "uint16_t",
          "description": "Width of each tile in pixels"
        },
        {
          "name": "tile_height",
          "type": "uint16_t",
          "description": "Height of each tile in pixels"
        },
        {
          "name": "layer",
          "type": "uint8_t",
          "description": "Layer index (0-3)",
          "default": "0"
        }
      ],
      "return_type": "void"
    },
    {
      "c_name": "kryon_tilemap_set_tile",
      "nim_name": "setTile",
      "js_name": "setTile",
      "python_name": "set_tile",
      "description": "Set a tile at a specific position",
      "parameters": [
        {
          "name": "x",
          "type": "uint16_t",
          "description": "X position in tiles"
        },
        {
          "name": "y",
          "type": "uint16_t",
          "description": "Y position in tiles"
        },
        {
          "name": "tile_id",
          "type": "uint16_t",
          "description": "Tile ID (index into tileset)"
        },
        {
          "name": "flags",
          "type": "uint8_t",
          "description": "Flip flags (0 = normal, 1 = flip horizontal, 2 = flip vertical, 4 = flip diagonal)",
          "default": "0"
        },
        {
          "name": "layer",
          "type": "uint8_t",
          "description": "Layer index (0-3)",
          "default": "0"
        }
      ],
      "return_type": "void"
    },
    {
      "c_name": "kryon_tilemap_render",
      "nim_name": "renderTilemap",
      "js_name": "renderTilemap",
      "python_name": "render_tilemap",
      "description": "Render the tilemap at a position",
      "parameters": [
        {
          "name": "x",
          "type": "int32_t",
          "description": "X position to render at (in pixels)"
        },
        {
          "name": "y",
          "type": "int32_t",
          "description": "Y position to render at (in pixels)"
        },
        {
          "name": "layer",
          "type": "uint8_t",
          "description": "Layer index (0-3)",
          "default": "0"
        }
      ],
      "return_type": "void"
    }
  ],
  "constants": {
    "TILEMAP_MAX_LAYERS": 4,
    "TILEMAP_FLIP_H": 1,
    "TILEMAP_FLIP_V": 2,
    "TILEMAP_FLIP_D": 4
  },
  "examples": {
    "nim": [
      "# Create a 32x24 tilemap with 16x16 tiles",
      "createTilemap(32, 24, 16, 16, layer = 0)",
      "",
      "# Set some tiles",
      "setTile(0, 0, 1)  # Top-left corner",
      "setTile(10, 5, 2, flags = 1)  # Flipped horizontally",
      "",
      "# Render the tilemap at position (0, 0)",
      "renderTilemap(0, 0, layer = 0)"
    ],
    "js": [
      "// Create a 32x24 tilemap with 16x16 tiles",
      "tilemap.createTilemap(32, 24, 16, 16, {layer: 0});",
      "",
      "// Set some tiles",
      "tilemap.setTile(0, 0, 1);  // Top-left corner",
      "tilemap.setTile(10, 5, 2, {flags: 1});  // Flipped horizontally",
      "",
      "// Render the tilemap at position (0, 0)",
      "tilemap.renderTilemap(0, 0, {layer: 0});"
    ],
    "python": [
      "# Create a 32x24 tilemap with 16x16 tiles",
      "tilemap.create_tilemap(32, 24, 16, 16, layer=0)",
      "",
      "# Set some tiles",
      "tilemap.set_tile(0, 0, 1)  # Top-left corner",
      "tilemap.set_tile(10, 5, 2, flags=1)  # Flipped horizontally",
      "",
      "# Render the tilemap at position (0, 0)",
      "tilemap.render_tilemap(0, 0, layer=0)"
    ]
  },
  "metadata": {
    "author": "Kryon Plugin System",
    "license": "0BSD",
    "requires": ["kryon_ir", "kryon_desktop"],
    "backends": ["sdl3"]
  }
}
